![[20986734.png]]

ဒီ slide က အရင် slide မှာ ပြောခဲ့တဲ့ ပြဿနာကို Web Cache နဲ့ ဖြေရှင်းလိုက်တဲ့အခါ ဘယ်လောက်အထိ အကျိုးသက်ရောက်မှု ရှိသွားလဲဆိုတာကို ကိန်းဂဏန်းတွေနဲ့ သက်သေပြထားတာ ဖြစ်ပါတယ်။

---

### Slide ခေါင်းစဉ်: Calculating access link utilization, end-end delay with cache
**(Cache သုံးပြီးနောက် access link အသုံးပြုမှုနှင့် အစအဆုံးကြာချိန်ကို တွက်ချက်ခြင်း)**

### အဓိက Annsumption (ယူဆချက်): `suppose cache hit rate is 0.4`

ဒါက တွက်ချက်မှုအားလုံးရဲ့ အခြေခံအကျဆုံး ယူဆချက်ပါ။
*   **Cache Hit Rate (0.4 or 40%):** User တွေ တောင်းဆိုတဲ့ Request အားလုံးရဲ့ **၄၀%** ဟာ Cache ထဲမှာ ရှိပြီးသားဖြစ်တဲ့အတွက် Cache ကနေပဲ တိုက်ရိုက်ပြန်ပေးနိုင်တယ်လို့ ဆိုလိုပါတယ်။ ဒါကို "Cache Hit" လို့ခေါ်ပါတယ်။
*   ဒါကြောင့် ကျန်တဲ့ **၆၀%** သော Request တွေကတော့ Cache ထဲမှာ မရှိတဲ့အတွက် အင်တာနက်ပေါ်က မူလ Server (Origin Server) တွေဆီကို သွားယူရပါမယ်။ ဒါကို "Cache Miss" လို့ခေါ်ပါတယ်။

---

### ၁။ Access Link Utilization (အဓိက အင်တာနက်လိုင်း အသုံးပြုမှု) တွက်ချက်ခြင်း

ဒီအပိုင်းက 1.54 Mbps အမြန်နှုန်းပဲရှိတဲ့ အဓိက အင်တာနက်လိုင်းကို အခု ဘယ်လောက်ပဲ သုံးတော့မလဲဆိုတာ တွက်ပြထားတာပါ။

*   **`60% requests satisfied at origin`**: Request တွေရဲ့ ၆၀% သာ မူလ Server ဆီကို သွားဖို့လိုတော့တဲ့အတွက် အရင်က သွားနေတဲ့ data ပမာဏရဲ့ ၆၀% ပဲ အဓိကလိုင်းကို ဖြတ်သန်းပါတော့မယ်။

*   **`rate to browsers over access link = 0.6 * 1.50 Mbps = .9 Mbps`**:
    *   အရင်က User တွေလိုအပ်တဲ့ စုစုပေါင်း data ပမာဏက 1.50 Mbps ရှိခဲ့ပါတယ်။
    *   အခု Cache က ၄၀% ကို တာဝန်ယူလိုက်တဲ့အတွက်၊ အဓိကလိုင်းပေါ်ကို ဖြတ်သွားမယ့် data ပမာဏက ၆၀% (0.6) ပဲ ကျန်ပါတော့တယ်။
    *   ဒါကြောင့် အဓိကလိုင်းပေါ်က data rate အသစ်က `0.6 * 1.50 Mbps = 0.9 Mbps` ပဲ ဖြစ်သွားပါတယ်။

*   **`access link utilization = 0.9 / 1.54 = .58`**:
    *   Utilization (အသုံးပြုမှု) ဆိုတာ လိုင်းတစ်ခုရဲ့ စွမ်းရည်ทั้งหมดကို ဘယ်လောက်ရာခိုင်နှုန်း အသုံးပြုနေလဲ ဆိုတာပါ။
    *   `Utilization = (လက်ရှိအသုံးပြုနေသော data ပမာဏ) / (လိုင်း၏ စွမ်းရည်)`
    *   `Utilization = 0.9 Mbps / 1.54 Mbps = 0.58` သို့မဟုတ် **၅၈%** ပဲရှိပါတော့တယ်။

*   **`means low (msec) queueing delay`**:
    *   Cache မတပ်ခင်က utilization က 97% (1.50/1.54) နီးပါးရှိခဲ့တဲ့အတွက် လိုင်းက အမြဲပြည့်နေပြီး data တွေ တန်းစီစောင့်ဆိုင်းရတဲ့ ကြာချိန် (queueing delay) က အရမ်းများပါတယ်။
    *   အခု utilization က 58% ပဲရှိတော့တဲ့အတွက် လိုင်းက ချောင်သွားပြီး တန်းစီစောင့်ရတဲ့ကြာချိန်က မရှိသလောက် နည်းသွားပြီး မီလီစက္ကန့် (milliseconds) အဆင့်ပဲ ကြာပါတော့မယ်။

---

### ၂။ Average end-end delay (ပျမ်းမျှ အစအဆုံးကြာချိန်) တွက်ချက်ခြင်း

ဒီအပိုင်းက User တစ်ယောက်က Request ပို့ပြီး အဖြေပြန်ရတဲ့အထိ ပျမ်းမျှ ဘယ်လောက်ကြာမလဲဆိုတာ တွက်ပြထားတာပါ။ ဒါက Cache Hit ဖြစ်လား、Miss ဖြစ်လားဆိုတဲ့ ဖြစ်နိုင်ခြေပေါ်မူတည်ပြီး တွက်ရတဲ့ weighted average ဖြစ်ပါတယ်။

**Average Delay = `(Cache Miss ဖြစ်နိုင်ခြေ * Miss ဖြစ်လျှင် ကြာချိန်) + (Cache Hit ဖြစ်နိုင်ခြေ * Hit ဖြစ်လျှင် ကြာချိန်)`**

*   **`0.6 * (delay from origin servers)`**: ဒါက **Cache Miss** (Cache ထဲမှာမရှိတဲ့) အခြေအနေပါ။
    *   ဒီအခြေအနေက 60% ဖြစ်နိုင်ပါတယ်။
    *   ကြာချိန်ကတော့ အရင်အတိုင်း မူလ Server ဆီကိုသွားရမှာဖြစ်လို့ အသွားအပြန် (RTT) 2 စက္ကန့် + data ဆွဲချိန် (အခု လိုင်းမပိတ်တော့လို့ 0.01 sec လောက်ပဲကြာ) ပေါင်း **~2.01 စက္ကန့်** ကြာပါမယ်။

*   **`+ 0.4 * (delay when satisfied at cache)`**: ဒါက **Cache Hit** (Cache ထဲမှာရှိတဲ့) အခြေအနေပါ။
    *   ဒီအခြေအနေက 40% ဖြစ်နိုင်ပါတယ်။
    *   ကြာချိန်ကတော့ အလွန်မြန်တဲ့ အတွင်းက 1 Gbps LAN ထဲက Cache ဆီကနေပဲ ချက်ချင်းရမှာဖြစ်လို့ အလွန်နည်းတဲ့ ကြာချိန် **(msecs - မီလီစက္ကန့်ပိုင်း)** ပဲ ကြာပါမယ်။

*   **`= 0.6 (2.01) + 0.4 (~msecs) = ~ 1.2 secs`**:
    *   စုစုပေါင်း ပျမ်းမျှကြာချိန် = `(0.6 * 2.01) + (0.4 * အလွန်နည်းသောကြာချိန်)`
    *   `= 1.206 + ~0 =` ခန့်မှန်းခြေ **၁.၂ စက္ကန့်** ဖြစ်သွားပါတယ်။

---

### နိဂုံးချုပ် (Conclusion)

**`lower average end-end delay than with 154 Mbps link (and cheaper too!)`**
**(154 Mbps လိုင်းအသစ်တပ်တာထက် ပျမ်းမျှကြာချိန် ပိုနည်းပြီး၊ ပိုလည်း စျေးသက်သာတယ်!)**

အဓိက ပြောချင်တာကတော့ Web Cache ကို **စရိတ်သက်သက်သာသာနဲ့** တပ်ဆင်လိုက်ရုံနဲ့:
1.  အဓိက အင်တာနက်လိုင်းပေါ်က ဝန်ကို **97% ကနေ 58%** အထိ လျှော့ချနိုင်ခဲ့တယ်။
2.  User တွေရဲ့ ပျမ်းမျှစောင့်ဆိုင်းချိန်ကို **၂ စက္ကန့်ကျော်ကနေ ၁.၂ စက္ကန့်** အထိ လျှော့ချနိုင်ခဲ့တယ်။

ဒါဟာ အင်တာနက်လိုင်းကို 1.54 Mbps ကနေ 154 Mbps လို အမြန်နှုန်းအမြင့်ကြီးကို **ပိုက်ဆံအများကြီးအကုန်အကျခံပြီး** တပ်ဆင်တာထက်တောင် ပိုပြီး ထိရောက်၊ စရိတ်သက်သာတဲ့ ဖြေရှင်းနည်းတစ်ခုဖြစ်ကြောင်း သက်သေပြလိုက်တာ ဖြစ်ပါတယ်။